<?xml version = "1.0" encoding = "UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://java.sun.com/jsf/html" xmlns:f="http://java.sun.com/jsf/core" xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:p="http://primefaces.org/ui">
<ui:composition>
	<h:form id="add_document">
		<p:messages />
		<p:dialog id="addDocument" header="Добавить/Обновить описание документа" widgetVar="addDocumentWv" resizable="false" closable="true" modal="true" showEffect="fade" hideEffect="explode" dynamic="true"
			closeOnEscape="true">
			<h:panelGrid columns="2" id="add_docs_panel_grid">
				<p:row>
					<p:column>
						<p:outputLabel value="Тип документа:" styleClass="base_form_caption_text"/>
					</p:column>
				</p:row>
				<p:row>
					<p:column>
						<p:selectOneMenu id="docTypeId" value="#{clientdocuments.selectedDocument.doctype}" converter="docTypeConverter" style="width: 300px;" styleClass="base_form_value_text">
							<f:selectItems value="#{clientdocuments.docTypes}" var="docType" itemLabel="#{docType.caption}" itemValue="#{docType}" />
						</p:selectOneMenu>
					</p:column>
				</p:row>
				<p:row>
					<p:column>
						<p:outputLabel value="Серия:" styleClass="base_form_caption_text"/>
					</p:column>
				</p:row>
				<p:row>
					<p:column>
						<p:message display="tooltip" for="ad_prefix" />
						<p:inputText value="#{clientdocuments.selectedDocument.docPrefix}" id="ad_prefix" validator="#{clientdocuments.validatePrefix}"  styleClass="base_form_value_text"/>
					</p:column>
				</p:row>
				<p:row>
					<p:column>
						<p:outputLabel value="Номер:" styleClass="base_form_caption_text"/>
					</p:column>
				</p:row>
				<p:row>
					<p:column>
						<p:message display="tooltip" for="ad_number" />
						<p:inputText value="#{clientdocuments.selectedDocument.docNum}" id="ad_number" validator="#{clientdocuments.validateNumber}" styleClass="base_form_value_text" />
					</p:column>
				</p:row>
				<p:row>
					<p:column>
						<p:outputLabel value="Дата выдачи:" styleClass="base_form_caption_text"/>
					</p:column>
				</p:row>
				<p:row>
					<p:column>
						<p:message display="tooltip" for="ad_date" />
						<p:calendar value="#{clientdocuments.selectedDocument.date}" id="ad_date" showOn="button" pattern="dd.MM.yyyy" validator="#{clientdocuments.validateDate}"  styleClass="base_form_value_text"/>
					</p:column>
				</p:row>
				<p:row>
					<p:column>
						<p:outputLabel value="Кем выдан:" styleClass="base_form_caption_text"/>
					</p:column>
				</p:row>
				<p:row>
					<p:column>
						<p:message display="tooltip" for="ad_who" />
						<p:inputText value="#{clientdocuments.selectedDocument.whereAndWhom}" id="ad_who" validator="#{clientdocuments.validateWho}" size="45"  styleClass="base_form_value_text"/>
					</p:column>
				</p:row>

				<p:row>
					<p:column>
						<p:outputLabel value="Регистрация:" styleClass="base_form_caption_text"/>
					</p:column>
				</p:row>
				<p:row>
					<p:column>
						<p:selectOneMenu id="docRegistrationId" value="#{clientdocuments.selectedDocument.registration}"  styleClass="base_form_value_text">
                            <p:ajax event="change" listener="#{clientdocuments.itemSelected}" />
                            <f:selectItem itemLabel="Нет ответа" itemValue="0" />
							<f:selectItem itemLabel="Нет" itemValue="1" />
							<f:selectItem itemLabel="Да" itemValue="2" />
                            <f:selectItem itemLabel="Временная" itemValue="3" />
						</p:selectOneMenu>
					</p:column>
				</p:row>
                <p:row>
                    <p:column>
                        <p:outputLabel id="tempRegDateFrom_l" for="tempRegDateFrom" value="Временная регистрация с:" styleClass="base_form_caption_text" style="#{clientdocuments.tempRegVisibility}"/>
                    </p:column>
                </p:row>
                <p:row>
                    <p:column>
                        <p:calendar value="#{clientdocuments.selectedDocument.tempRegDateFrom}" id="tempRegDateFrom" showOn="button" pattern="dd.MM.yyyy" validator="#{clientdocuments.validateDate}"  styleClass="base_form_value_text" style="#{clientdocuments.tempRegVisibility}"/>
                    </p:column>
                </p:row>
                <p:row>
                    <p:column>
                        <p:outputLabel id="tempRegDateTo_l" for="tempRegDateTo" value="Временная регистрация по:" styleClass="base_form_caption_text" style="#{clientdocuments.tempRegVisibility}"/>
                    </p:column>
                </p:row>
                <p:row>
                    <p:column>
                        <p:calendar value="#{clientdocuments.selectedDocument.tempRegDateTo}" id="tempRegDateTo" showOn="button" pattern="dd.MM.yyyy" validator="#{clientdocuments.validateDate}"  styleClass="base_form_value_text" style="#{clientdocuments.tempRegVisibility}"/>
                    </p:column>
                </p:row>





                <p:row>
					<p:column>
						<p:outputLabel value="Регистрация (город):" styleClass="base_form_caption_text"/>
					</p:column>
				</p:row>
				<p:row>
					<p:column>
						<p:message display="tooltip" for="ad_city" />
						<p:inputText value="#{clientdocuments.selectedDocument.city}" id="ad_city" validator="#{clientdocuments.validateCity}" size="45"  styleClass="base_form_value_text"/>
					</p:column>
				</p:row>
				<p:row>
					<p:column>
						<p:outputLabel value="Регистрация (адрес):" styleClass="base_form_caption_text"/>
					</p:column>
				</p:row>
				<p:row>
					<p:column>
						<p:message display="tooltip" for="ad_address" />
						<p:inputText value="#{clientdocuments.selectedDocument.address}" id="ad_address" validator="#{clientdocuments.validateAddress}" size="45"  styleClass="base_form_value_text"/>
					</p:column>
				</p:row>
			</h:panelGrid>
			<p:separator />
			<p:panel>
				<p:growl id="adddocs_growl" showDetail="true" life="3000" />
				<center>
					<p:commandButton value="Добавить/Обновить" id="addNewDocumentB" actionListener="#{clientdocuments.addSelectedDocument()}" ajax="true" update="@this :select_document :reg_select_document add_docs_panel_grid :m_tabview:documentsTabTitle :m_tabview:documents_form adddocs_growl" icon="ui-icon-check" oncomplete="addDocumentWv.hide()" />
				</center>
			</p:panel>
		</p:dialog>
	</h:form>

</ui:composition>
</html>