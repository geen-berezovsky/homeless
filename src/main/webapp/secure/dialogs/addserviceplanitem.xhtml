<?xml version = "1.0" encoding = "UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://java.sun.com/jsf/html" xmlns:f="http://java.sun.com/jsf/core" xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:p="http://primefaces.org/ui">
<ui:composition>
	<h:form id="add_seriveplanitem">
		<p:messages />
		<p:dialog id="addSeriveplanitem" header="Добавить/Обновить пункт сервисного плана" widgetVar="addServiceItemWv" resizable="false" closable="true" modal="true" showEffect="fade" hideEffect="explode"
			dynamic="true" closeOnEscape="true" onShow="#{clientcontracts.initContractControl()}">
			<h:panelGrid columns="2" id="add_serivceplanitem_panel_grid">
				<p:row>
					<p:outputLabel value="Клиент:" styleClass="base_form_caption_text" />
				</p:row>
				<p:row>
					<p:outputLabel value="#{clientform.surname} #{clientform.firstname} #{clientform.middlename}" styleClass="base_form_value_text"/>
				</p:row>
				<p:row>
					<p:outputLabel value="Цель:" styleClass="base_form_caption_text" />
				</p:row>
				<p:row>
					<p:selectOneMenu id="contractPointId" value="#{clientcontracts.selectedContractControl.contractpoints}" converter="contractPointsTypeConverter" style="width: 300px;" styleClass="base_form_value_text">
						<f:selectItems value="#{clientcontracts.contractPointsItems}" var="contractPointsType" itemLabel="#{contractPointsType.caption}" itemValue="#{contractPointsType}" />
					</p:selectOneMenu>
				</p:row>
				<p:row>
					<p:outputLabel value="Дата выполнения:" styleClass="base_form_caption_text" />
				</p:row>
				<p:row>
					<p:calendar value="#{clientcontracts.selectedContractControl.endDate}" id="endContractControlDateCal" showOn="button" pattern="dd.MM.yyyy" styleClass="base_form_value_text"/>
				</p:row>
				<p:row>
					<p:outputLabel value="Комментарии:" styleClass="base_form_caption_text" />
				</p:row>
				<p:row>
					<p:editor id="contacts_editor" value="#{clientcontracts.selectedContractControl.comments}" styleClass="base_form_value_text"/>
				</p:row>
			</h:panelGrid>
			<p:separator />
			<p:panel>
				<p:growl id="addserivceplanitem_growl" showDetail="true" life="5000" />
				<center>
					<p:commandButton value="Добавить/Обновить пункт сервисного плана" id="addserivceplanitemBid" actionListener="#{clientcontracts.addServicePlanItem()}" ajax="true"
						update="@this :edit_contract:contractItemsListId addserivceplanitem_growl" icon="ui-icon-check" onclick="addServiceItemWv.hide()"/>
				</center>
			</p:panel>
		</p:dialog>
	</h:form>

</ui:composition>
</html>