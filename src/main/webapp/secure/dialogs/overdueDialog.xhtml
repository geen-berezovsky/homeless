<?xml version = "1.0" encoding = "UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://java.sun.com/jsf/html" xmlns:f="http://java.sun.com/jsf/core" xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:p="http://primefaces.org/ui">
<ui:composition>
	<h:form id="overdueForm"/>
	<p:dialog id="overdueDlg" header="Просроченные прививки и ФЛГ" widgetVar="overdueDlgWv" resizable="false" closable="true"
			  modal="true" style="max-height:80%;max-width:80%" showEffect="fade" hideEffect="explode" closeOnEscape="true" dynamic="true">
            <p:dataTable id="overdueTableId" var="overdueTable" value="#{overdue.items}" rendered="#{overdue.rendered}" 
					 scrollable="true" styleClass="default_datatable" scrollHeight="120" selectionMode="single"
					 rowKey="#{overdueTable.clientId}" widgetVar="soonEndedShelterTable" emptyMessage="Просроченных прививок и ФЛГ не найдено">
			<p:column headerText="Id">
				<h:outputText value="#{overdueTable.clientId}" />
			</p:column>
			<p:column headerText="Клиент">
				<h:outputText value="#{overdueTable.clientName}" />
			</p:column>
			<p:column headerText="Дата заселения">
				<h:outputText value="#{overdueTable.inShelter}" />
			</p:column>
			<p:column headerText="Дифт. + столбняк">
				<h:outputText value="#{overdueTable.hasDyphVaccine}" />
			</p:column>
			<p:column headerText="Гепатит Б">
				<h:outputText value="#{overdueTable.hasHepathVaccine}" />
			</p:column>
			<p:column headerText="Брюшной тиф">
				<h:outputText value="#{overdueTable.hasTyphVaccine}" />
			</p:column>
                        <p:column headerText="флюорография">
				<h:outputText value="#{overdueTable.isFluorographyDone}" />
			</p:column> 
			<p:column headerText="Работник">
				<h:outputText value="#{overdueTable.workerName}" />
			</p:column>
                        <p:ajax event="rowDblselect" listener="#{overdue.onRowClick}" global="false" 
                                oncomplete="PF('overdueDlgWv').hide();" />
                                
		</p:dataTable>
	</p:dialog>
</ui:composition>
</html>